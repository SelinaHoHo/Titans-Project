<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Detail</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- <link rel="stylesheet" href="./assests/css/output.css"> -->
</head>

<body class="container mx-auto pt-8">
    <section class="flex flex-col md:flex-row lg:flex-row px-6 md:gap-6">
        <div class="flex flex-col md:w-1/2 ">
            <div class="overflow-hidden w-full ">
                <img class="object-cover w-full "
                    src="https://dtlmselementor.wpengine.com/wp-content/uploads/2023/11/Teacher-image-3.jpg"
                    alt="article">
            </div>
            <div class="flex flex-col justify-center items-center gap-4">
                <h3 class="mt-4">Damie glendell</h3>
                <span>Co-Director</span>
            </div>
        </div>
        <div class="flex flex-col gap-6 md:w-2/3 lg:w-2/4">
            <ul class="lg:mx-6 lg:mx-0">
                <li class="flex flex-row items-center">
                    <div class="inline-block w-4 h-4 border-2 border-orange-500 rounded-full mr-4"></div>
                    Education : Fashion Designing
                </li>
                <li class="flex flex-row items-center">
                    <div class="inline-block w-4 h-4 border-2 border-orange-500 rounded-full mr-4"></div>
                    Website :
                    <a href="#" class="text-orange-500 pl-2 hover:text-[#838C48]"> http://iamdesigning.com</a>
                </li>
                <li class="flex flex-row items-center">
                    <div class="inline-block w-4 h-4 border-2 border-orange-500 rounded-full mr-4"></div>
                    Experience: 3 Yeard
                </li>
                <li class="flex flex-row items-center">
                    <div class="inline-block w-4 h-4 border-2 border-orange-500 rounded-full mr-4"></div>
                    Role : Co-Director
                </li>
            </ul>

            <div class="mt-2">
                <h2>Classes Handling</h2>
                <table class="table-auto w-full">
                    <thead >
                        <tr>
                            <th class="bg-[#838C48] text-white border border-white w-2/3">class name</th>
                            <th class="bg-[#838C48] text-white border border-white w-1/3">class Type</th>
                        </tr>
                    </thead>
                    <tbody class="collum-course">
                        <tr>
                            <td class="border border-gray-200 text-center text-[#808080]">Summer Classes</td>
                            <td class="border border-gray-200 text-center text-[#808080]">Online</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="">
                <h2>Courses Handling</h2>
                <table class="table-auto w-full">
                    <thead>
                        <tr>
                            <th class="bg-[#838C48] text-white border border-white w-2/3 ">Course Name</th>
                            <th class="bg-[#838C48] text-white border border-white w-1/3">Curiculum(s)</th>
                        </tr>
                    </thead>
                    <tbody class="row-course">

                    </tbody>
                </table>
            </div>

            <div>
                <h2>About Me</h2>
                <p class="text-[#808080]">
                    Nulla pretium, enim nec ornare varius, erat ipsum sollicitudin nisi, at tincidunt orci mi id nisi.
                    Nam venenatis iaculis velit, sed sagittis lectus tempor vitae. Donec dapibus aliquam ante, ut
                    molestie augue feugiat eget. Nulla vitae nulla tincidunt, pellentesque elit eu, euismod purus. Nam
                    eget interdum metus. Pellentesque sed diam adipiscing, condimentum massa id, placerat justo. In
                    faucibus nibh tellus, nec euismod libero ultrices vitae. Etiam tincidunt tellus nibh, in tincidunt
                    quam tempor eget. Donec feugiat felis non justo viverra, a pellentesque erat condimentum. Nam
                    ultrices nunc ac laoreet suscipit.
                    Maecenas adipiscing aliquam condimentum. Nullam sed lacus dapibus neque lacinia accumsan et et nunc.
                    Curabitur commodo justo a nisi dapibus, vitae accumsan neque pellentesque. Duis vel leo sapien.
                    Phasellus nec aliquet erat, at malesuada orci. Fusce quis faucibus lectus. Proin erat risus, semper
                    id tristique eu, ultrices a lacus.
                </p>
            </div>
        </div>
    </section>
</body>

</html>

<script>
    document.addEventListener('DOMContentLoaded', function () {


        var urlParams = new URLSearchParams(window.location.search);
        let teacherData

        const callAPI = async () => {
            let uri = `http://localhost:3001/teacher?id=${paramValue}`;
            const res = await fetch(uri);
            const data = await res.json();
            renderDetails(data);
            return data
        }
        var paramValue = urlParams.get('id');
        console.log(paramValue);
        const renderDetails = (data) => {
            const imageElement = document.querySelector('img');
            const nameElement = document.querySelector('h3');
            const jobElement = document.querySelector('span');
            const courseClass = document.querySelector('.collum-course')
            const rowCourse = document.querySelector('.row-course')
            console.log(rowCourse)
            imageElement.src = data.image;
            nameElement.textContent = data.name;
            jobElement.textContent = data.jobs;

            let templateCollumClass = ''
        
            data.classes.forEach((item) => {
                templateCollumClass += `
                <tr>
                            <td class="border border-gray-200 text-center text-[#808080]">${item.name}</td>
                            <td class="border border-gray-200 text-center text-[#808080]">${item.type}</td>
                        </tr>
                `
            })
            courseClass.innerHTML = templateCollumClass

            let templateRowCourse = ''
            data.course.forEach((item) => {
                templateRowCourse += `
                <tr>
                            <td class="border border-gray-200 text-center text-[#808080]">${item.name}</td>
                            <td class="border border-gray-200 text-center text-[#808080]">${item.curriculum}</td>
                        </tr>
                `
            })
            rowCourse.innerHTML = templateRowCourse

        }

        window.addEventListener('DOMContentLoaded', () => {
            teacherData = callAPI()
        });
    });
</script>