<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assests/css/output.css" />
  <link rel="stylesheet" href="./assests/css/styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://unpkg.com/@andreasremdt/simple-translator@latest/dist/umd/translator.min.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="js/tailwind.config.js"></script>
    <link rel="stylesheet" href="./assests/css/header.css" />
</head>
<body id="languageSelect" class="bg-[#FDF6EA]">
    <div class="mx-auto">
        <section class="flex flex-col bg-[#DA853D] w-full px-8 py-10 md:px-24 mb-12">
            <h1 class="text-[#FFFFFF] text-center font-serif md:text-start text-2xl md:text-4xl"
                data-i18n="course-template.title-section.title"></h1>
            <div class="flex flex-row items-center justify-center md:justify-start gap-1">
                <p class="text-white font-open" data-i18n="course-template.title-section.home"></p>
                <p class="text-white font-open">/</p>
                <p class="text-white font-open" data-i18n="course-template.title-section.template"></p>
            </div>
        </section>
        <section class="flex flex-col lg:flex-row px-10 md:px-24 lg:px-14 pb-[10%]">
            <div class="w-full lg:w-1/3 flex flex-col mb-12 ">
                <div class="relative bg-[#F5E9D4] px-6 py-6 mb-6 flex flex-col">
                    <input id="search-filter" type="text"
                        class="w-full pl-10 pr-4 py-2 rounded border-2 border-gray-300 focus:border-gray-500 focus:outline-none"
                        placeholder="Search placeholder">
                    <span class="absolute inset-y-0 right-10 flex items-center pl-3">
                        <i class="fas fa-search text-gray-50 font-open0"></i> <!-- Thay thế font-awesome class của bạn -->
                    </span>
                </div>

                <div class="bg-[#F5E9D4] px-6 py-6 mb-6 flex flex-col">
                    <h2 class="underline font-open underline-offset-[10px] mb-4"
                        data-i18n="course-template.course-category.title"></h2>

                    <ul id="checkbox-list" class="flex flex-col gap-2">
                        <li>
                            <input type="checkbox">
                            <label class="font-open" data-i18n="course-template.checkBox.education"></label>
                        </li>
                        <li>
                            <input type="checkbox">
                            <label class="font-open" data-i18n="course-template.checkBox.engineering"></label>
                        </li>
                        <li>
                            <input type="checkbox">
                            <label class="font-open" data-i18n="course-template.checkBox.health"></label>
                        </li>
                        <li>
                            <input type="checkbox">
                            <label class="font-open" data-i18n="course-template.checkBox.law"></label>
                        </li>
                        <li>
                            <input type="checkbox">
                            <label class="font-open" data-i18n="course-template.checkBox.mathematics"></label>
                        </li>
                    </ul>
                </div>

                <div class="bg-[#F5E9D4] px-6 py-6 mb-6">
                    <h2 class="underline font-open underline-offset-[10px] mb-4" data-i18n="course-template.cost-filter.title">
                    </h2>
                    <ul class="flex flex-col gap-2">
                        <li>
                            <input type="radio">
                            <label data-i18n="course-template.radio.all"></label>
                        </li>
                        <li>
                            <input type="radio">
                            <label data-i18n="course-template.radio.free"></label>
                        </li>
                        <li>
                            <input type="radio">
                            <label data-i18n="course-template.radio.paid"></label>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="flex flex-col w-auto md:w-full lg:px-8">
                <div class="flex flex-col w-full  md:flex-row md:justify-between">
                    <div class="flex flex-row justify-center items-center gap-4 mb-6">
                        <button id="grid-button"
                            class="px-6 py-2 border border-black rounded-lg hover:bg-xanhMain hover:border-0"
                            data-i18n="course-template.button.button-grid">

                        </button>
                        <button id="col-button"
                            class="px-6 py-2 border border-black rounded-lg hover:bg-xanhMain hover:border-0"
                            data-i18n="course-template.button.button-col"></button>
                    </div>
                    <div class="flex flex-col md:flex-row gap-4 mb-6 justify-center items-center">
                        <p>Order by</p>
                        <div class=" flex items-center justify-center">
                            <div class="relative group z-50">
                                <button id="dropdown-button"
                                    class="inline-flex justify-center w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-blue-500 ">
                                    <span class="mr-2">Open Dropdown</span>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ml-2 -mr-1"
                                        viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                        <path fill-rule="evenodd"
                                            d="M6.293 9.293a1 1 0 011.414 0L10 11.586l2.293-2.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"
                                            clip-rule="evenodd" />
                                    </svg>
                                </button>
                                <div id="dropdown-menu"
                                    class="hidden absolute right-0 mt-2 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 p-1 space-y-1">
                                    <input id="search-input"
                                        class="block w-full px-4 py-2 text-gray-800 border rounded-md  border-gray-300 focus:outline-none"
                                        type="text" placeholder="Search items" autocomplete="off">

                                    <a href="#"
                                        class="block px-4 py-2 text-gray-700 hover:bg-gray-100 active:bg-blue-100 cursor-pointer rounded-md">Uppercase</a>
                                    <a href="#"
                                        class="block px-4 py-2 text-gray-700 hover:bg-gray-100 active:bg-blue-100 cursor-pointer rounded-md">Lowercase</a>
                                    <a href="#"
                                        class="block px-4 py-2 text-gray-700 hover:bg-gray-100 active:bg-blue-100 cursor-pointer rounded-md">Camel
                                        Case</a>
                                    <a href="#"
                                        class="block px-4 py-2 text-gray-700 hover:bg-gray-100 active:bg-blue-100 cursor-pointer rounded-md">Kebab
                                        Case</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div
                    class="grid-container-item mb-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 xl:grid-cols-3 gap-8">

                </div>
                <div class="flex flex-row justify-center items-center gap-4 py-5">
                    <nav aria-label="Page navigation example" class="flex flex-row gap-2">
                        <a href="#"
                            class="prev flex items-center justify-center px-4 h-10 ms-0 leading-tight bg-white text-black border border-black transition duration-700 ease-in-out hover:bg-[#838C48] hover:border-none hover:text-white">
                            <span class="sr-only">Previous</span>
                            <svg class="w-3 h-3 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                fill="none" viewBox="0 0 6 10">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" d="M5 1 1 5l4 4" />
                            </svg>
                            Prev
                        </a>
                        <ul class="pagination flex items-center -space-x-px h-10 text-base gap-2">

                        </ul>
                        <a href="#"
                            class="next flex items-center justify-center px-4 h-10 leading-tight text-black bg-white border border-black transition duration-700 ease-in-out hover:bg-[#838C48] hover:border-none hover:text-white">
                            <span class="sr-only">Next</span>
                            Next
                            <svg class="w-3 h-3 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                fill="none" viewBox="0 0 6 10">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" d="m1 9 4-4-4-4" />
                            </svg>
                        </a>
                    </nav>
                </div>
            </div>

        </section>

    </div>
</body>
<footer>
    <!-- footer top -->
    <section class="relative px-4 md:px-8 pb-1 pt-12 text-black bg-beLight">
        <div
            class="absolute left-1/2 top-0 flex h-24 w-24 -translate-x-1/2 -translate-y-1/2 transform items-center justify-center rounded-full bg-beMain p-2">
            <img src="./assests/images/lms-logo.png" alt="Logo">
        </div>
        <div class="mx-auto max-w-screen-xl py-11">
            <div class="mx-6 flex flex-wrap justify-between">
                <!-- Column 1 -->
                <div
                    class="order-first md:mb-10 lg:mb-16 w-full px-6 text-center md:w-full lg:mx-0 lg:w-1/4 lg:text-left">
                    <h3 data-i18n="footer.col1-title"
                        class="mb-2 sm:text-xl text-[#303030] text-base font-serif md:text-lg lg:text-xl"></h3>
                    <p data-i18n="footer.col1-param1" class="mb-3 text-[#808080] pt-2 text-sm font-open"></p>
                    <p data-i18n="footer.col1-param2" class="mb-5 text-[#808080] text-sm font-open"></p>
                    <button data-i18n="footer.col1-button"
                        class="rounded border-2 border-xanhMain px-4 py-2 text-xanhMain hover:bg-xanhMain hover:text-white"><span
                            class="text-sm font-open"></span></button>
                </div>
                <!-- Column 2 -->
                <div class="mt-8 w-full px-6 text-center sm:text-left md:mt-0 md:w-1/3 lg:mt-0 lg:w-1/4">
                    <h3 data-i18n="footer.col2-title"
                        class="mb-2 sm:text-xl text-[#303030] text-base font-serif md:text-lg lg:text-xl"></h3>
                    <ul class="text-sm text-gray-400">
                        <li class="mb-2 border-b border-gray-400 py-2">
                            <a data-i18n="footer.col2-param1" href="#"
                                class="text-black text-base font-serif hover:text-[#DA853D] duration-700"></a>
                            <p data-i18n="footer.col2-free" class="text-xanhMain text-base"></p>
                        </li>
                        <li class="mb-2 border-b border-gray-400 pb-2">
                            <a data-i18n="footer.col2-param2" href="#"
                                class="text-black text-base font-serif hover:text-[#DA853D] duration-700"></a>
                            <p data-i18n="footer.col2-free" class="text-xanhMain text-base"></p>
                        </li>
                        <li class="mb-2">
                            <a data-i18n="footer.col2-param3" href="#"
                                class="text-black text-base font-serif hover:text-[#DA853D] duration-700"></a>
                            <p data-i18n="footer.col2-free" class="text-xanhMain text-base"></p>
                        </li>
                    </ul>
                </div>
                <!-- Column 3 -->
                <div class="mt-8 h-full w-full px-6 md:mt-0 md:w-1/3 lg:mt-0 lg:w-1/4">
                    <h3 data-i18n="footer.col3-title"
                        class="mb-2 sm:text-xl text-[#303030] text-base font-serif md:text-lg lg:text-xl"></h3>
                    <ul class="text-sm text-gray-400">
                        <li data-i18n="footer.col3-param1" class="mb-2 border-b border-gray-400 py-2">
                            <a href="#" class="text-[#808080] hover:text-xanhMain"></a>
                        </li>
                        <li data-i18n="footer.col3-param2" class="mb-2 border-b border-gray-400 py-2"><a href="#"
                                class="text-[#808080] hover:text-xanhMain"></a></li>
                        <li data-i18n="footer.col3-param3" class="mb-2 border-b border-gray-400 py-2"><a href="#"
                                class="text-[#808080] hover:text-xanhMain"></a></li>
                        <li data-i18n="footer.col3-param4" class="mb-2 border-b border-gray-400 py-2"><a href="#"
                                class="text-[#808080] hover:text-xanhMain"></a></li>
                        <li data-i18n="footer.col3-param5" class="mb-2 pt-2"><a href="#"
                                class="text-[#808080] hover:text-xanhMain"></a></li>
                    </ul>
                </div>
                <!-- Column 4 -->
                <div class="mt-8 h-full w-[240px] px-6 md:mt-0 md:w-1/3 lg:mt-0 lg:w-1/4">
                    <h3 data-i18n="footer.col4-title"
                        class="mb-2 sm:text-xl text-[#303030] text-base font-serif md:text-lg lg:text-xl"></h3>
                    <ul class="text-sm text-gray-400 md:w-[90%] lg:w-[70%]">
                        <li class="mb-2 border-b border-gray-400 py-2 flex">
                            <span class="text-xanhMain text-sm font-open"><i
                                    class="fa-solid fa-location-arrow"></i></span>
                            <span data-i18n="footer.col4-param" class="text-[#808080] pl-2 text-sm font-open"></span>
                        </li>
                        <li class="mb-2 border-b border-gray-400 py-2">
                            <span class="text-xanhMain text-sm font-open"><i class="fa-solid fa-phone"></i></span>
                            <a href="tel:+11276542233"><span
                                    class="text-[#808080] hover:text-xanhMain pl-2 text-sm font-open">+11 (2) 7654
                                    2233</span></a>
                        </li>
                        <li class="mb-2 border-b border-gray-400 py-2">
                            <span class="text-xanhMain text-sm font-open"><i class="fa-solid fa-fax"></i></span><a
                                href="tel:+11576542244"><span
                                    class="text-[#808080] hover:text-xanhMain pl-2 text-sm font-open">+11 (5) 7654
                                    2244</span></a>
                        </li>
                        <li class="mb-2">
                            <span class="text-xanhMain text-sm font-open"><i class="fa-solid fa-envelope"></i></span><a
                                href="mailto:lms@gmail.com"><span
                                    class="text-[#808080] hover:text-xanhMain pl-2 text-sm font-open">lms@gmail.com</span></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <!-- footer bottom -->
    <section class="md:flex md:justify-between md:items-center bg-xanhMain py-7 px-8 text-white lg:px-28">
        <div class="mb-4 flex justify-center md:block lg:flex items-center sm:mb-0">
            <div class="flex">
                <p class="text-sm font-open">Copyright © 2020 LMS Theme All Rights Reserved</p>
                <span class="mx-4 h-4 border-r-2 text-sm font-open"></span>
            </div>
            <p>Design Themes</p>
        </div>
        <div class="flex justify-center space-x-4 mt-4 md:mt-0 sm:gap-5">
            <span class="text-[#ffffff] text-sm font-open"><a class="social-icon" href="#!"><i
                        class="fa-brands fa-twitter"></i></i></a></span>
            <span class="text-[#ffffff] text-sm font-open"><a class="social-icon" href="#!"><i
                        class="fa-brands fa-youtube"></i></a></span>
            <span class="text-[#ffffff] text-sm font-open"><a class="social-icon" href="#!"><i
                        class="fa-brands fa-facebook-f"></i></a></span>
            <span class="text-[#ffffff] text-sm font-open"><a class="social-icon" href="#!"><i
                        class="fa-brands fa-skype"></i></a></span>
        </div>
    </section>
</footer>
<script defer>
    window.onload = function () {
        var translator = new Translator({
            filesLocation: "../languages",
        });

        var savedLanguage = localStorage.getItem("selectedLanguage") || "vi";
        var languageSelect = document.getElementById("languageSelect");
        languageSelect.value = savedLanguage;

        function updateLanguage(newLanguage) {
            translator.translatePageTo(newLanguage);
            localStorage.setItem("selectedLanguage", newLanguage);
        }

        translator.fetch(["vi", "en"]).then(() => {
            translator.translatePageTo(savedLanguage);
        });

        languageSelect.addEventListener("change", function () {
            updateLanguage(languageSelect.value);
        });
    };



    const dropdownButton = document.getElementById('dropdown-button');
    const dropdownMenu = document.getElementById('dropdown-menu');
    const searchInput = document.getElementById('search-input');
    let isOpen = true;

    function toggleDropdown() {
        isOpen = !isOpen;
        dropdownMenu.classList.toggle('hidden', !isOpen);
    }

    // Set initial state
    toggleDropdown();

    dropdownButton.addEventListener('click', () => {
        toggleDropdown();
    });


    searchInput.addEventListener('input', () => {
        const searchTerm = searchInput.value.toLowerCase();
        const items = dropdownMenu.querySelectorAll('a');
        // console.log(searchTerm)
        items.forEach((item) => {
            const text = item.textContent.toLowerCase();
            if (text.includes(searchTerm)) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        });
    });


</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const container = document.querySelector('.grid-container-item');
        const paginationContainer = document.querySelector('.pagination');
        const gridButton = document.getElementById("grid-button");
        const colButton = document.getElementById("col-button");
        const pageNumber = 1;
        const perPageNumber = 12;
        let course;


        const renderPosts = async (page, perPage) => {
            let uri = `http://localhost:3001/courses?_page=${page}&_per_page=${perPage}`;
            const res = await fetch(uri);
            const data = await res.json();
            course = data.data;
            renderGrid(data.data);
            pagination(data);
        };

        const searchFil = document.getElementById('search-filter');
        let searchTimer;

        function handleSearchInput() {
            const searchText = searchFil.value.toLowerCase();
            searchData("name", searchText).then(filteredData => {
                renderGrid(filteredData);
            });
        }

        searchFil.addEventListener('input', () => {
            clearTimeout(searchTimer);
            searchTimer = setTimeout(handleSearchInput, 1000);
        });
        const checkBoxButtons = document.querySelectorAll('input[type="checkbox"]');

        checkBoxButtons.forEach(checkBoxButton => {
            checkBoxButton.addEventListener('change', async function () {
                const labelValue = this.nextElementSibling.dataset.i18n;
                let queryParams = new URLSearchParams(window.location.search);
                let checkBoxName;

                switch (labelValue) {
                    case 'course-template.checkBox.education':
                        checkBoxName = 'education';
                        break;
                    case 'course-template.checkBox.engineering':
                        checkBoxName = 'engineering';
                        break;
                    case 'course-template.checkBox.health':
                        checkBoxName = 'health';
                        break;
                    case 'course-template.checkBox.law':
                        checkBoxName = 'law';
                        break;
                    case 'course-template.checkBox.mathematics':
                        checkBoxName = 'mathematics';
                        break;
                    default:
                        checkBoxName = '';
                }

                if (this.checked) {
                    console.log('Đã chọn:', checkBoxName);
                    queryParams.append('subject', checkBoxName);

                } else {
                    console.log('Đã bỏ chọn:', checkBoxName);
                    queryParams.delete('subject', checkBoxName);
                }


                window.history.replaceState({}, '', `${window.location.pathname}?${queryParams.toString()}`);

                await filterByCheckBox();
            });
        });
        async function filterByCheckBox() {
            try {
                const response = await fetch(`http://localhost:3001/search/courses${window.location.search}`);
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const data = await response.json();
                renderGrid(data)
                console.log(data);
            } catch (error) {
                console.error('There was a problem with the fetch operation:', error);
            }
        }



        const radioButtons = document.querySelectorAll('input[type="radio"]');

        radioButtons.forEach(radioButton => {
            radioButton.addEventListener('change', async function () {
                if (this.checked) {
                    radioButtons.forEach(otherRadioButton => {
                        if (otherRadioButton !== radioButton) {
                            otherRadioButton.checked = false;
                        }
                    });
                    const labelValue = this.nextElementSibling.dataset.i18n;
                    if (labelValue === "course-template.radio.all") {
                        return renderGrid(course);
                    }
                    if (labelValue === "course-template.radio.free") {
                        const filterData = await searchData("cost", "free");
                        return renderGrid(filterData);
                    }
                    if (labelValue === "course-template.radio.paid") {
                        const filterData = await searchData("cost", 0);
                        return renderGrid(filterData);
                    }
                }
            });
        });




        const searchData = async (type, name) => {
            let uri = `http://localhost:3001/search/courses?${type}=${name}`;
            const res = await fetch(uri);
            const data = await res.json();

            return data
        }




        const renderGrid = (data) => {
            let template = '';
            data?.forEach((item) => {
                time = item.duration.split('/');
                template += `
                <div class="flex flex-col gap-4 ">
              <div class="h-fit group">
                <div class="relative overflow-hidden">
                  <img class="image-card  object-cover w-auto z-0 hover:scale-110"
                    src="${item.image}" alt="${item.course}" />
                  <div
                    class="absolute h-full w-full bg-[#838C48]/80 flex items-center justify-center -bottom-10 group-hover:bottom-0 opacity-0 group-hover:opacity-100 transition-all duration-300">
                    <button
                      class="details border-2 border-white hover:text-black hover:bg-white duration-500 ease-in-out bg-transparent text-white py-2 px-5"
                      data-id="${item.id}">VIEW COURSE</button>
                  </div>
                </div>
              </div>
              <h3 class="text-[#DA853D] text-xl font-open !important">${item?.cost === "Free" ? "Free": item.cost + "$"}</h3>
              <a href="./CourseDetail.html" class="text-[#303030] text-xl font-open hover:text-[#DA853D]">${item?.name}</a>
              <div class="flex flex-row gap-2 items-center">
                <a class="text-[#777777] text-sm font-open hover:text-[#DA853D]">${item?.subject}</a>
                <div class="border border-[#777777] h-[15px]"></div>
                <a class="text-[#777777] text-sm font-open">7${item?.numberOfCurriculum} Curriculums</a>
              </div>
              <div class="border border-black w-full"></div>
              <div class="flex flex-col">
                <div class="py-2 pl-2 flex flex-row items-center gap-2">
                  <i class="fa-regular fa-clock"></i>
                  <span class="font-serif text-[#303030]">${time[0]}d ${time[1]}h ${time[2]}m</span>
                </div>
                <div class="flex flex-row">
                  <div class="flex items-center pr-1" id="star-container">
                    <img
                      class="h-[12px] w-[12px] md:h-[15px] md:w-[15px] star size-5 inline-flex justify-center items-center text-2xl rounded-full text-gray-300 hover:text-yellow-400 disabled:opacity-50 disabled:pointer-events-none dark:text-gray-600 dark:hover:text-yellow-500"
                      data-rating="1"
                      src="https://dtlmselementor.wpengine.com/wp-content/plugins/wp-postratings/images/stars/rating_on.gif"
                      alt="vote">
                    <img
                      class="h-[12px] w-[12px] md:h-[15px] md:w-[15px] star size-5 inline-flex justify-center items-center text-2xl rounded-full text-gray-300 hover:text-yellow-400 disabled:opacity-50 disabled:pointer-events-none dark:text-gray-600 dark:hover:text-yellow-500"
                      data-rating="2"
                      src="https://dtlmselementor.wpengine.com/wp-content/plugins/wp-postratings/images/stars/rating_on.gif"
                      alt="vote">
                    <img
                      class="h-[12px] w-[12px] md:h-[15px] md:w-[15px] star size-5 inline-flex justify-center items-center text-2xl rounded-full text-gray-300 hover:text-yellow-400 disabled:opacity-50 disabled:pointer-events-none dark:text-gray-600 dark:hover:text-yellow-500"
                      data-rating="3"
                      src="https://dtlmselementor.wpengine.com/wp-content/plugins/wp-postratings/images/stars/rating_on.gif"
                      alt="vote">
                    <img
                      class="h-[12px] w-[12px] md:h-[15px] md:w-[15px] star size-5 inline-flex justify-center items-center text-2xl rounded-full text-gray-300 hover:text-yellow-400 disabled:opacity-50 disabled:pointer-events-none dark:text-gray-600 dark:hover:text-yellow-500"
                      data-rating="4"
                      src="https://dtlmselementor.wpengine.com/wp-content/plugins/wp-postratings/images/stars/rating_on.gif"
                      alt="vote">
                    <img
                      class="h-[12px] w-[12px] md:h-[15px] md:w-[15px] star size-5 inline-flex justify-center items-center text-2xl rounded-full text-gray-300 hover:text-yellow-400 disabled:opacity-50 disabled:pointer-events-none dark:text-gray-600 dark:hover:text-yellow-500"
                      data-rating="4"
                      src="https://dtlmselementor.wpengine.com/wp-content/plugins/wp-postratings/images/stars/rating_half.gif"
                      alt="vote">
                  </div>
                  <span id="rating-info" class="text-[#808080] text-sm font-open">(<b>3</b> votes, average:
                    <b>4.33</b> out of 5)</span>
                </div>
              </div>
            </div>
      `;
            });

            container.innerHTML = template;
            const starContainer = document.getElementById('star-container');
            const starButtons = starContainer.querySelectorAll('button');
            const detailsButtons = document.querySelectorAll('.details');
            const stars = document.querySelectorAll('.star');
            const ratingInfo = document.getElementById('rating-info');
            let currentRating = 0;

            stars.forEach(star => {
                star.addEventListener('mouseover', () => {
                    const rating = parseInt(star.getAttribute('data-rating'));
                    highlightStars(rating);
                });

                star.addEventListener('click', () => {
                    const rating = parseInt(star.getAttribute('data-rating'));
                    currentRating = rating;
                    updateRatingInfo();
                });
            });
            function highlightStars(rating) {
                console.log(stars)
                stars.forEach((star, index) => {
                    const starRating = parseInt(star.getAttribute('data-rating'));
                    if (starRating < rating) {
                        star.classList.remove('text-gray-300');
                        star.classList.add('text-yellow-400');
                    } else {
                        star.classList.remove('text-yellow-400');
                        star.classList.add('text-gray-300');
                    }
                });
            }
            const gridItem = document.getElementById("grid-item")
            const gridItems = container.querySelectorAll('.grid-item');
            document.getElementById("grid-button").addEventListener("click", function () {
                colButton.classList.remove("bg-xanhMain", "text-white")
                gridButton.classList.add("bg-xanhMain", "text-white")
                container.classList.add("sm:grid-cols-2", "md:grid-cols-2", "xl:grid-cols-3");
                gridItems.forEach(function (gridItem) {
                    gridItem.classList.remove("flex-row");
                    gridItem.classList.add("flex-col");
                });

            });
            document.getElementById("col-button").addEventListener("click", function () {
                container.classList.remove("sm:grid-cols-2", "md:grid-cols-2", "xl:grid-cols-3");
                gridButton.classList.remove("bg-xanhMain", "text-white")
                colButton.classList.add("bg-xanhMain", "text-white")
                gridItems.forEach(function (gridItem) {
                    const descriptionElements = gridItem.getElementsByClassName('description');
                    gridItem.classList.remove("flex-col");
                    gridItem.classList.add("flex-row");
                    for (let i = 0; i < descriptionElements.length; i++) {
                        const descriptionElement = descriptionElements[i];
                        descriptionElement.classList.remove("hidden");
                    }
                });
            });


            function updateRatingInfo() {
                ratingInfo.textContent = `(${currentRating} votes, average: ${currentRating.toFixed(2)} out of 5, rated)`;
            }
            detailsButtons.forEach((button) => {
                button.addEventListener('click', () => {
                    const id = parseInt(
                        button.getAttribute('data-id')
                    );
                    window.location.href = `/details/${id}`
                });
            });

        };
        let isPrev
        const pagination = (data) => {
            let template = '';
            for (let i = 1; i <= data.pages; i++) {
                const isActive = data.prev + 1 === i ? 'active' : '';
                isPrev = data.prev === 1 ? true : false;
                template += `
                      <li>
                        <a href="#" aria-current="page" 
                         class="page-item z-10 flex items-center justify-center px-6 h-10  text-black border border-black bg-white transition duration-700 ease-in-out hover:bg-[#838C48] hover:text-white hover:border-none ${isActive ? 'bg-xanhMain border-none text-white' : ''}" data-id="${i}"  data-prev="${data.prev}"  data-next="${data.next}">${i}</a>
                      </li>
                `;
            }
            paginationContainer.innerHTML = template;

            const pageItems = document.querySelectorAll('.page-item');

            pageItems.forEach((item) => {
                const prev = document.querySelectorAll('.prev');
                prev.forEach((prev) => {
                    if (isPrev) {
                        prev.style.display = 'flex';
                        prev.addEventListener('click', () => {
                            page = parseInt(
                                item.getAttribute('data-prev')
                            );
                            renderPosts(page, 5);
                        })
                    } else {
                        prev.style.display = 'none';
                    }
                });

                const next = document.querySelector('.next');
                next.addEventListener('click', () => {
                    page = parseInt(
                        item.getAttribute('data-next')
                    );
                    renderPosts(page, 5);
                });
                item.addEventListener('click', () => {
                    const page = parseInt(
                        item.getAttribute('data-id')
                    );
                    renderPosts(page, 5);
                });
            });
        };

        window.addEventListener('DOMContentLoaded', () => {

            gridButton.classList.add("bg-xanhMain", "text-white");
            console.log(gridButton.classList)

            renderPosts(1, 6);
        });

        window.addEventListener('load', function () {
            window.history.replaceState({}, '', `${window.location.pathname}`);
        })
    });
</script>

</html>

<style>
    h1 {
        font-size: 1.25rem;
        font-family: "Raleway", sans-serif;
    }

    @media (min-width: 768px) {
        h1 {
            font-size: 1.5rem;
        }
    }

    @media (min-width: 1024px) {
        h1 {
            font-size: 1.875rem;
        }
    }


    h2 {
        font-size: 1.125rem;
        font-family: serif;
    }

    @media (min-width: 768px) {
        h2 {
            font-size: 1.25rem;
            font-family: "Open Sans", sans-serif;
        }
    }

    @media (min-width: 1024px) {
        h2 {
            font-size: 1.5rem;
            font-family: "Open Sans", sans-serif;
        }
    }

    h3 {
        font-size: 1rem;
        font-family: "Open Sans", sans-serif;
    }

    @media (min-width: 768px) {
        h3 {
            font-size: 1.125rem;
        }
    }

    @media (min-width: 1024px) {
        h3 {
            font-size: 1.25rem;
        }
    }


    p,
    span {
        font-size: 0.875rem;
        font-family: 'Open Sans', sans-serif;
    }
</style>